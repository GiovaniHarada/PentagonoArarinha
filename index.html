<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Canvas Daora</title>
</head>
<body onload='Init()' onkeydown='move(window.event.keyCode)'>
    <hr />
    <center><h1>Jogo Muito Loco 3</h1></center>
    <hr />
    <canvas id="meuCanvas" width=600 height=600 style="border:1px solid black;background:yellow">
        Seu navegador não suporta este recursoq


    </canvas><br />
    -------------------<br />
    -------<input type='button' id='botaoDaora' onclick="move(87)" value='/\' />-------<br />
    -<input type='button' id='botaoDaora' onclick="move(65)" value='<-' />
    <input type='button' id='botaoDaora' onclick="move(83)" value='\/' />
    <input type='button' id='botaoDaora' onclick="move(68)" value='->' />-<br />
    -------------------
</body>
<script language="JavaScript">

    function Init() {
        propDir = 1;
        propSpe = 2;
        prop1 = [240, 585, 10, 10];
        prop2 = [75, 75, 10, 0];
        canvas = document.getElementById("meuCanvas");
        ctx = canvas.getContext("2d");
        ctx.fillRect(prop1[0], prop1[1], prop1[2], prop1[3]);
        ctx.beginPath();
        ctx.arc(prop2[0], prop2[1], prop2[2], prop2[3], Math.PI * 2, true);
        ctx.closePath();
        ctx.fill();
        setInterval(newFrame, 33);
        vertMov = 1;
        horiMov = 1;
    }
    //FrameUpdate
    function newFrame() {
        ctx.fillStyle = 'yellow';
        ctx.beginPath();
        ctx.arc(prop2[0], prop2[1], prop2[2] + 1, prop2[3], Math.PI * 2, true);
        ctx.closePath();
        ctx.fill();
        if (prop2[1] >= 585 || prop2[1] <= 5) {
            if (propDir == 1) {
                propDir = -1;
            } else if (propDir == -1) {
                propDir = 1;
            }
        }
        if (propDir == 1) {
            if (prop2[1] <= 610) {
                prop2[1] = prop2[1] + (propSpe * propDir);
            }
            if (prop2[1] > 601) {
                prop2[1] = -20;
            }
        }
        if (propDir == -1) {
            if (prop2[1] >= -20) {
                prop2[1] = prop2[1] + (propSpe * propDir);
            }
            if (prop2[1] > 601) {
                prop2[1] = 610;
            }
        }
        ctx.fillStyle = 'black';
        ctx.beginPath();
        ctx.arc(prop2[0], prop2[1], prop2[2], prop2[3], Math.PI * 2, true);
        ctx.closePath();
        ctx.fill();
    }



    //Direções Movimentos
    function move(direction) {
        //Cima
        if (direction == 87 && vertMov == 1 || direction == 38 && vertMov == 1) {
            ctx.clearRect(prop1[0], prop1[1], prop1[2], prop1[3]);
            prop1[1] = prop1[1] - 10;
            if (prop1[1] <= -10) {
                prop1[1] = 600;
            }
            ctx.fillRect(prop1[0], prop1[1], prop1[2], prop1[3]);
        }
        //Baixo
        if (direction == 83 && vertMov == 1 || direction == 40 && vertMov == 1) {
            ctx.clearRect(prop1[0], prop1[1], prop1[2], prop1[3]);
            prop1[1] = prop1[1] + 10;
            if (prop1[1] >= 610) {
                prop1[1] = 0;
            }
            ctx.fillRect(prop1[0], prop1[1], prop1[2], prop1[3]);
        }
        //Esquerda
        if (direction == 65 && horiMov == 1 || direction == 37 && horiMov == 1) {
            ctx.clearRect(prop1[0], prop1[1], prop1[2], prop1[3]);
            prop1[0] = prop1[0] - 10;
            if (prop1[0] <= -100) {
                prop1[0] = 590;
            }
            ctx.fillRect(prop1[0], prop1[1], prop1[2], prop1[3]);
        }
        //Direita
        if (direction == 68 && horiMov == 1 || direction == 39 && horiMov == 1) {
            ctx.clearRect(prop1[0], prop1[1], prop1[2], prop1[3]);
            prop1[0] = prop1[0] + 10;
            if (prop1[0] >= 600) {
                prop1[0] = -90;
            }
            ctx.fillRect(prop1[0], prop1[1], prop1[2], prop1[3]);
        }
        if (direction == 82) {
            alert("prop0 = " + prop1[0] + " prop1 = " + prop1[1]);
        }


    }
</script>
</html>